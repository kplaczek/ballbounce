<!DOCTYPE html>
<html>
    <head>
        <title>Ball bounce index page</title>
        <meta charset="UTF-8">
        <script type="text/javascript" type="text/javascript">
            var BallBounce = {};
        </script>
        <style>
            canvas {border: 1px solid black;}
        </style>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="js/canvas.js"></script>
        <script type="text/javascript" src="js/game.js"></script>
        <script type="text/javascript" src="js/vector.js"></script>
        <script type="text/javascript" src="js/ball.js"></script>
        <script type="text/javascript" src="js/turret.js"></script>
        <script type="text/javascript">
            window.onload = function() {

                game = new Game();
                canvas = new Canvas();
                game.setCanvas(canvas);
                turret = new Turret();
                game.setTurret(turret);

                filterStrength = 20;
                frameTime = 0;
                lastLoop = new Date;
                thisLoop = 0;


                //manual "oponents"
                oponent = new Ball(0, -200, 100, 200);
                oponent.velocity = new Vector(0, 0.05);

                oponent2 = new Ball(-400, -200, 100, 200);
                oponent2.velocity = new Vector(0.05, 0.05);

                oponent3 = new Ball(400, -200, 100, 200);
                oponent3.velocity = new Vector(-0.05, 0.05);

                game.add(oponent);
                game.add(oponent2);
                game.add(oponent3);


                setInterval(game.update, 16);
                setInterval(game.calculate, 8);
                var fpsOut = document.getElementById('fps');
                setInterval(function() {
                    fpsOut.innerHTML = (1000 / frameTime).toFixed(1) + " fps";
                }, 1000);


            };
        </script>
    </head>
    <body>
        <span id="fps"></span>
        <br>
        <canvas id="canvas" width="1200" height="600"></canvas>
    </body>
</html>
